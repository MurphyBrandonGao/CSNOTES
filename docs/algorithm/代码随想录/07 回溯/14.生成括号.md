# 排列问题（二）

## 22.括号生成

[力扣题目链接](https://leetcode.cn/problems/generate-parentheses/)

数字 n 代表生成括号的对数，请你设计一个函数，用于能够生成所有可能的并且 有效的 括号组合。

示例 1：

输入：n = 3
输出：["((()))","(()())","(())()","()(())","()()()"]
示例 2：

输入：n = 1
输出：["()"]

## 思路

**1、一个「合法」括号组合的左括号数量一定等于右括号数量，这个很好理解**。

**2、对于一个「合法」的括号字符串组合 `p`，必然对于任何 `0 <= i < len(p)` 都有：子串 `p[0..i]` 中左括号的数量都大于或等于右括号的数量**。

```java
class Solution {
    private List<String> res = new ArrayList<>();

    public List<String> generateParenthesis(int n) {
        backtracking(n, n, new StringBuilder());
        return res;
    }

    private void backtracking(int leftCount, int rightCount, StringBuilder sb) {
        //如果左括号剩下的多 说明不符合要求
        if (leftCount > rightCount) {
            return;
        }
        //括号数量最后 变成了 负数 不合法
        if (leftCount < 0 || rightCount < 0) {
            return;
        }
        if (leftCount == 0 && rightCount == 0) {
            res.add(sb.toString());
            return;
        }
        sb.append('(');
        backtracking(leftCount - 1, rightCount, sb);
        sb.deleteCharAt(sb.length() - 1);

        sb.append(')');
        backtracking(leftCount, rightCount - 1, sb);
        sb.deleteCharAt(sb.length() - 1);
    }
}
```

